{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","servises/fetchImages.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","Searchbar","searchQuery","handleInputChange","handleSubmitForm","className","s","SearchForm","onSubmit","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","value","onInput","autoComplete","autoFocus","placeholder","fetchImagesByQuery","page","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","axios","get","ImageGalleryItem","images","handleOpenModal","map","id","webformatURL","largeImageURL","tags","onClick","src","data-source","data-alt","alt","ImageGalleryItem_image","ImageGallery","Button","handleClickLoadMore","Modal","handlePressEsc","e","props","handleCloseModal","window","addEventListener","this","removeEventListener","Overlay","modalImg","modalAlt","Component","ShowLoader","Loader","color","height","width","App","state","currentPage","isLoading","showModal","error","setState","target","preventDefault","then","responce","data","hits","catch","finally","prevState","scrollTo","top","document","querySelector","scrollHeight","behavior","dataset","source","nodeName","length","defaultProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d7822776.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2xVb8\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2kJLo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Xlatm\",\"Modal\":\"Modal_Modal__2pA7u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__78KI-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__XS2ME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2qWup\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Pn5F\",\"SearchForm\":\"Searchbar_SearchForm__2R7-n\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1GJKO\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__4JCjU\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1c69i\"};","import React from \"react\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ searchQuery, handleInputChange, handleSubmitForm }) => {\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmitForm}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          name=\"searchQuery\"\r\n          value={searchQuery}\r\n          onInput={handleInputChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '21324182-6e2c174a97ce868f915b55e22';\r\n\r\n\r\n\r\nconst fetchImagesByQuery = (searchQuery, page) => {\r\n    const searchParams = new URLSearchParams({\r\n        image_type: 'photo',\r\n        orientation: 'horizontal',\r\n        q: searchQuery,\r\n        page: page,\r\n        per_page: 12,\r\n        key: API_KEY,\r\n    });\r\n    return axios.get(`${BASE_URL}?${searchParams}`);\r\n};\r\n\r\nexport default fetchImagesByQuery;\r\n","import React from \"react\";\r\n\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({images, handleOpenModal}) => {\r\n  return (\r\n    images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n      <li\r\n        key={id}\r\n        className={s.ImageGalleryItem}\r\n        onClick={handleOpenModal}\r\n      >\r\n        <img\r\n          src={webformatURL}\r\n          data-source={largeImageURL}\r\n          data-alt={tags}\r\n          alt={tags}\r\n          className={s.ImageGalleryItem_image}\r\n        />\r\n      </li>\r\n    )) \r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from \"react\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({images, handleOpenModal}) => {\r\n  return (\r\n    <ul className={s.ImageGallery} id=\"imageGallery\">\r\n      <ImageGalleryItem\r\n        images={images}\r\n        handleOpenModal={handleOpenModal}\r\n      />\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;","import React from \"react\";\r\n\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({handleClickLoadMore}) => {\r\n  return (\r\n      <button\r\n          type=\"button\"\r\n          className={s.Button}\r\n          onClick={handleClickLoadMore}\r\n      >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handlePressEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handlePressEsc);\r\n  }\r\n\r\n  handlePressEsc = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      this.props.handleCloseModal(e);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.props.handleCloseModal}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.modalImg} alt={this.props.modalAlt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from './Loader.module.css';\r\n\r\nconst ShowLoader = () => {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Hearts\" color=\"#00BFFF\" height={180} width={180} />\r\n    </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default ShowLoader;","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport fetchImagesByQuery from \"./servises/fetchImages\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\nimport ShowLoader from \"./components/Loader\";\n\nimport \"modern-normalize/modern-normalize.css\";\n\nclass App extends Component {\n  static defaultProps = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    showModal: false,\n    modalImg: \"\",\n    modalAlt: \"\",\n    error: null,\n  };\n\n  static propTypes = {\n    images: PropTypes.array,\n    currentPage: PropTypes.number,\n    searchQuery: PropTypes.string,\n    isLoading: PropTypes.bool,\n    showModal: PropTypes.bool,\n    modalImg: PropTypes.string,\n    modalAlt: PropTypes.string,\n    error: PropTypes.string,\n  };\n\n  state = {\n    images: this.props.images,\n    currentPage: this.props.currentPage,\n    searchQuery: this.props.searchQuery,\n    isLoading: this.props.isLoading,\n    showModal: this.props.showModal,\n    modalImg: this.props.modalImg,\n    modalAlt: this.props.modalAlt,\n    error: this.props.error,\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmitForm = (e) => {\n    e.preventDefault();\n    const { searchQuery } = this.state;\n    this.setState({ isLoading: true });\n\n    fetchImagesByQuery(searchQuery, 1)\n      .then((responce) => {\n        this.setState({\n          images: [...responce.data.hits],\n          currentPage: 1,\n        });\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleClickLoadMore = () => {\n    const { searchQuery, currentPage } = this.state;\n    this.setState({ isLoading: true });\n\n    fetchImagesByQuery(searchQuery, currentPage + 1)\n      .then((responce) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...responce.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.querySelector(\"#imageGallery\").scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  handleOpenModal = (e) => {\n    this.setState({\n      showModal: true,\n      modalImg: e.target.dataset.source,\n      modalAlt: e.target.dataset.alt,\n    });\n  };\n\n  handleCloseModal = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      this.setState({\n        showModal: false,\n        modalImg: \"\",\n        modalAlt: \"\",\n      });\n    }\n  };\n\n  render() {\n    const { searchQuery, images, showModal, modalImg, modalAlt, isLoading } =\n      this.state;\n    \n    return (\n      <div className=\"App\">\n        <Searchbar\n          searchQuery={searchQuery}\n          handleInputChange={this.handleInputChange}\n          handleSubmitForm={this.handleSubmitForm}\n        />\n\n        <ImageGallery images={images} handleOpenModal={this.handleOpenModal} />\n\n        {isLoading && <ShowLoader />}\n\n        {images.length !== 0 && (\n          <Button handleClickLoadMore={this.handleClickLoadMore} />\n        )}\n        \n        {showModal && (\n          <Modal\n            modalImg={modalImg}\n            modalAlt={modalAlt}\n            handleCloseModal={this.handleCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}